<div class="col-md-6">
  <!-- Add buttons for filtering -->
  <div style="margin-bottom: 20px">
    <button class="btn btn-outline-secondary" (click)="getPages()">
      Fetch ALL Pages
    </button>
    <button
      class="btn btn-outline-primary"
      style="margin-left: 20px"
      (click)="goToAdd()"
    >
      Add Page
    </button>
  </div>
  <div style="margin-bottom: 20px">
    <label for="selectOption">Select a category:</label>
    <select
      class="form-control"
      name="category"
      [(ngModel)]="category"
      required
    >
      <option value="news">News</option>
      <option value="sports">Sports</option>
      <option value="memes">Memes</option>
    </select>
    <button
      class="btn btn-outline-secondary"
      style="margin-top: 20px"
      (click)="getByCategory()"
    >
      Fetch By Category
    </button>
  </div>

  <!-- search bar bind to "keyword" -->
  <div class="input-group mb-3">
    <input
      type="text"
      class="form-control"
      placeholder="Search by name"
      aria-label="Search by name"
      aria-describedby="basic-addon2"
      [(ngModel)]="keyword"
    />
  </div>

  <div class="card mb-4" *ngFor="let page of filteredPages; let i = index">
    <div *ngIf="page.name" class="card-body">
      <h5 class="card-title">{{ page.name }}</h5>
      <div *ngIf="page.id">
        <p class="card-text" style="font-size: 0.8rem">
          <strong>id:</strong> {{ page.id }}
        </p>
      </div>
      <div *ngIf="page.name">
        <p class="card-text"><strong>Name:</strong> {{ page.name }}</p>
      </div>
      <div *ngIf="page.category">
        <p class="card-text"><strong>Category:</strong> {{ page.category }}</p>
      </div>
      <div *ngIf="page.url">
        <p class="card-text">
          <strong>URL</strong> <br /><a [href]="page.url">{{ page.url }}</a>
        </p>
      </div>
      <div *ngIf="page.ratings">
        <strong>Ratings:</strong> 
        <div *ngFor="let rating of page.ratings" class="card-text alert alert-light">
            <p>Anonymous User</p>
            <div class="d-flex gap-3">
                <div>
                    <span *ngFor="let _ of [].constructor(+rating.stars)">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ffa900" class="bi bi-star-fill" viewBox="0 0 16 16">
                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                          </svg>
                    </span>
                </div>
                <p>- {{ rating.comment }}</p>
            </div>
        </div>
      </div>
    </div>
  </div>
</div>
